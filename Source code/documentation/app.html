<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>app API documentation</title>
<meta name="description" content="This is main file in this app starts and execute
This file route home,dashboard,login,register,logout,profile,course" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>app</code></h1>
</header>
<section id="section-intro">
<p>This is main file in this app starts and execute
This file route home,dashboard,login,register,logout,profile,course</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#39;&#39;&#39;
This is main file in this app starts and execute
This file route home,dashboard,login,register,logout,profile,course
&#39;&#39;&#39;

from flask import Flask,render_template,request,redirect,url_for,session

from auth import LogAuth
# auth: Import credentials for database
import fetch 
# fetch: In this package has 2 methods fetchData(fetch data from database) &amp; addData(add user data to database)
import profileUpdate 
# profileUpdate: The user update the information , the information update database to   
import jobLoad  
# jobLoad: Through external api fetch Jobs when the search and load the jobs
import jobDetailsLoad 
# jobDetailsLoad: it gives job description and apply link when click the job post
import RegisterData
# RegisterData: it check valid name,email,password

app = Flask(__name__)
app.secret_key=&#34;123&#34;

@app.route(&#39;/&#39;)
def home():
    &#39;&#39;&#39; Route Home page &#39;&#39;&#39;
    return render_template (&#34;index.html&#34;)

@app.route(&#34;/user/&lt;username&gt;&#34;)
def dashboard(username):
    &#39;&#39;&#39; Route Dashboard. When user log in the session is stored if the user  logged in it redirect to 
    dashboard else it redirect to login page &#39;&#39;&#39;
    if (&#39;user&#39; in session):  
        jobs=jobLoad.fetchDefaultJob()
        return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;],jobs=jobs,count=&#34;None&#34;)
    else:
        return redirect(url_for(&#39;login&#39;))
    
@app.route(&#39;/login&#39;)
def login():
    &#39;&#39;&#39; Route login Page. when click login page it checks session is active if active it redirects 
    dashboard else redirect to login page&#39;&#39;&#39;
    if (&#39;user&#39; in session):
        jobs=jobLoad.fetchDefaultJob()
        error=&#34;Hello &#34;+session[&#39;user&#39;][&#39;name&#39;]+&#34; You are Succesfully Logged in !&#34;
        return redirect(url_for(&#39;dashboard&#39;,username=session[&#39;user&#39;][&#39;name&#39;]))
        # return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;][&#39;name&#39;],jobs=jobs,count=&#34;None&#34;)
    else:
        return render_template(&#34;./auth/login.html&#34;)

@app.route(&#39;/logout&#39;)
def logout():
    &#39;&#39;&#39; Route logout. When use click log out the user session is deleted &#39;&#39;&#39;
    session.pop(&#39;user&#39;)
    return redirect(url_for(&#39;home&#39;))

@app.route(&#39;/register&#39;)
def register():
    &#39;&#39;&#39; Route register page. It render register page &#39;&#39;&#39;
    return render_template(&#34;./auth/register.html&#34;)

@app.route(&#39;/registerData&#39;,methods=[&#34;POST&#34;,&#39;GET&#39;])
def registerData():
    &#39;&#39;&#39; Route register Data. when user filled the register form the details are verified if it&#39;s valid redirect
    to  home page else it rendered register page with exception message &#39;&#39;&#39;
    if request.method==&#39;POST&#39;:
        name=request.form.get(&#39;name&#39;)
        email=request.form.get(&#39;email&#39;)
        password=request.form.get(&#39;password&#39;)
        error= RegisterData.checkValid(name,email,password)
        if error != None:
            return render_template(&#34;./auth/register.html&#34;,error=error)
        try:
            user=LogAuth.auth.create_user_with_email_and_password(email,password)
            fetch.addData(user[&#39;idToken&#39;],name,email)   
        except :
            error=&#34;You already Registered Please Login with Your Credentials&#34;
            return  render_template(&#34;./auth/register.html&#34;,error=error)
    # return redirect(url_for(&#39;home&#39;))
    # redirect to dashboard after register
    user = LogAuth.auth.sign_in_with_email_and_password(email,password)
    userId =(user[&#39;localId&#39;])
    # fetch method ==&gt; fetch user data
    fetchData=fetch.fetchData(userId)
    session[&#39;user&#39;]=fetchData
    error=&#34;Hello &#34;+ fetchData[&#39;name&#39;] + &#34; You Succesfully registered and logged in&#34;
    jobs=jobLoad.fetchDefaultJob()
    return redirect(url_for(&#39;dashboard&#39;,username=session[&#39;user&#39;][&#39;name&#39;]))
    # return render_template(&#39;dashboard.html&#39;,username=fetchData[&#39;name&#39;],jobs=jobs,count=&#34;None&#34;,error=error)


@app.route(&#39;/loginData&#39;,methods=[&#34;POST&#34;,&#34;GET&#34;])
def logindata():
    &#39;&#39;&#39; Route login Data. When user filled the login form and press submit the api pass email, password. 
    The email and password verify if exists in database. If exist fetch the user data and create a session&#39;&#39;&#39;
    if request.method==&#39;POST&#39;:
        try:
            emailEl=request.form[&#39;emailEl&#39;]
            passwordEl=request.form[&#39;passwordEl&#39;]
            user = LogAuth.auth.sign_in_with_email_and_password(emailEl,passwordEl)
            userId =(user[&#39;localId&#39;])
            # fetch method ==&gt; fetch user data
            fetchData=fetch.fetchData(userId)
            session[&#39;user&#39;]=fetchData
            session[&#39;page&#39;]=0
        except:
            error=&#34;Your email/password are not matched..&#34;
            return render_template(&#34;./auth/login.html&#34;,error=error)
    jobs=jobLoad.fetchDefaultJob()
    error=&#34;Hello &#34;+session[&#39;user&#39;][&#39;name&#39;]+&#34; You are Succesfully Logged in !&#34;
    # return render_template(&#39;dashboard.html&#39;,username=fetchData[&#39;name&#39;],jobs=jobs,count=&#34;None&#34;,error=error)
    return redirect(url_for(&#39;dashboard&#39;,username=session[&#39;user&#39;][&#39;name&#39;]))


@app.route(&#39;/user/profile&#39;)
def profile():
    &#39;&#39;&#39; Route Profile page. It shows user information stored in session&#39;&#39;&#39;
    const =session[&#39;user&#39;]
    return render_template(&#39;profile.html&#39;,data=const)

@app.route(&#39;/check&#39;)
def check():
    &#39;&#39;&#39; Route check. if user logged in it shows dashboard else it shows landing page &#39;&#39;&#39;
    if (&#39;user&#39; in session):
        return redirect(url_for(&#39;dashboard&#39;,username=session[&#39;user&#39;][&#39;name&#39;]))
    else:
        return redirect(url_for(&#39;home&#39;))

@app.route(&#39;/course&#39;)
def course():
    &#39;&#39;&#39; Route course. if logged in it shows profile button else it shows log in button &#39;&#39;&#39;
    if (&#39;user&#39; in session):
        return render_template(&#39;course.html&#39;, see=True )
    else:
        return render_template(&#39;course.html&#39;, see=False  )

@app.route(&#39;/update&#39;,methods=[&#34;POST&#34;,&#34;GET&#34;])
def update():
    &#39;&#39;&#39; Route update. It fetch all details in profile update form and update in database and session &#39;&#39;&#39;
    if request.method==&#39;POST&#39;:
        try:
            id = session[&#39;user&#39;][&#39;id&#39;]
            name = session [&#39;user&#39;][&#39;name&#39;]
            email =session[&#39;user&#39;][&#39;email&#39;]
            number=request.form[&#39;number&#39;]
            role =request.form[&#39;role&#39;]
            skill1 =request.form[&#39;skill1&#39;]
            skill2 =request.form[&#39;skill2&#39;]
            skill3 =request.form[&#39;skill3&#39;]
            data={&#39;id&#39;:id,&#39;name&#39;:name,&#39;email&#39;:email,&#39;number&#39;:number,&#39;role&#39;:role,&#39;skill1&#39;:skill1,&#39;skill2&#39;:skill2,
                &#39;skill3&#39;:skill3,&#39;update&#39;:True,&#39;jobFetchCount&#39;:session[&#39;user&#39;][&#39;jobFetchCount&#39;]}
            profileUpdate.update(id,data)
            session[&#39;user&#39;]=data
        except:
            return &#34;user update failed&#34;
    return render_template(&#39;profile.html&#39;,data=data)

@app.route(&#39;/search&#39;,methods=[&#39;POST&#39;])
def search():
    &#39;&#39;&#39; Route search. Each user gets 3 free search so it check search limit stored in session if it&#39;s under 
    limit request job details in job api and the job results are passes into dasboard and the results also 
    stored in database. meanwhile the Search limit is updated in cloud and session &#39;&#39;&#39;
    if request.method==&#39;POST&#39;:
        try:
            id=session[&#39;user&#39;][&#39;id&#39;]
            count=session[&#39;user&#39;][&#39;jobFetchCount&#39;]  
            role=request.form[&#39;role&#39;]
            city=request.form[&#39;city&#39;]
            country=request.form[&#39;country&#39;]
            if count &lt; 3:
                jobLoad.jobapi(id,count,role,city,country)
                # jobs=jobLoad.fetchDefaultJob(id+str(session[&#39;user&#39;][&#39;jobFetchCount&#39;]))
                data=session[&#39;user&#39;]
                data[&#39;jobFetchCount&#39;]= data[&#39;jobFetchCount&#39;]+1 
                session[&#39;user&#39;]=data
                profileUpdate.update(id,data)
                return redirect(url_for(&#34;history&#34;,history=data[&#39;jobFetchCount&#39;]-1))
                # return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;],jobs=jobs,count=data[&#39;jobFetchCount&#39;]-1)
                print(data[&#39;jobFetchCount&#39;]-1)
                jobs=jobLoad.fetchDefaultJob(id+str(session[&#39;user&#39;][&#39;jobFetchCount&#39;]-1))
                return render_template(&#34;history.html&#34;,history=data[&#39;jobFetchCount&#39;]-1,jobs=jobs,count=data[&#39;jobFetchCount&#39;]-1)
            else:
                return &#34;You Used 3 searches If you need more Please Mail to this ID prakasha.ece19@gmail.com&#34;
        except:
            return &#34;Search failed&#34;
            return redirect(url_for(&#34;dashboard&#34;,username=session[&#39;user&#39;]))

@app.route(&#34;/history/&lt;history&gt;&#34;)
def history(history):
    &#39;&#39;&#39; Route History. The history of job searches are stored in database. when the user request to see the jobs 
    and details. it get from database and showed in history page &#39;&#39;&#39;
    error=&#34;&#34;
    if session[&#39;user&#39;][&#39;jobFetchCount&#39;]!=0:
        if (session[&#39;user&#39;][&#39;jobFetchCount&#39;]) &gt; int(history):
            jobs=jobLoad.fetchDefaultJob(str(session[&#39;user&#39;][&#39;id&#39;])+(history))
            return render_template(&#34;history.html&#34;,history=history,jobs=jobs,count=history)
        else:
            error=&#34;No Search History. Search the job results are saved in history&#34;
            # return render_template(&#34;history.html&#34;)
            # return &#34;No Search results&#34;
    else:
        error=&#34;you don&#39;t have search history&#34;
        # return &#34;you not having search history&#34;
    return render_template(&#34;history.html&#34;,error=error)

@app.route(&#39;/user/apply/&lt;x&gt;&#39;,methods=[&#39;GET&#39;])
def apply(x):
    &#39;&#39;&#39; In home latest jobs are shown when user request to show more details about latest job these method fetch 
    data about job description,apply link it showed in apply.html&#39;&#39;&#39;
    jobDetails = jobDetailsLoad.findJobDetails(x)
    return render_template(&#39;apply.html&#39;,job=jobDetails[0])

@app.route(&#39;/user/applys/&lt;count&gt;/&lt;x&gt;&#39;,methods=[&#39;GET&#39;])
def applys(count,x):
    &#39;&#39;&#39; In search result jobs are stored in database when user request the search history of job description,apply
    link the applys method fetch from database &#39;&#39;&#39;
    merge = session[&#39;user&#39;][&#39;id&#39;]+str(count)
    print(x,merge)
    jobDetails = jobDetailsLoad.findJobDetails(x,merge)
    print(jobDetails)
    return render_template(&#39;apply.html&#39;,job=jobDetails[0])

@app.route(&#39;/user/apply/&lt;row&gt;/&lt;x&gt;&#39;)
def appling(row,x):
    jobDetails = jobDetailsLoad.findJobDetails(x,row)
    return render_template(&#39;apply.html&#39;,job=jobDetails[0])

@app.route(&#34;/job/&lt;job&gt;&#34;)
def roleBasedJob(job):
    &#39;&#39;&#39; These route method rol based job details from database &#39;&#39;&#39;
    # under process
    if job==&#34;Full Stack Developer&#34;:
        jobs=jobLoad.fetchDefaultJob(&#34;defaultJob&#34;)
        return &#34;coming soon sprint-3&#34;
        # return render_template(&#39;dashboard.html&#39;,username=&#39;Guest&#39;,jobs=jobs,count=&#34;None&#34;)
    return &#34;late&#34;

@app.route(&#34;/nextpage&#34;)
def nextpage():
    l=[&#39;8bh2G9nOsXhuEGovfY2s51JrNAq10&#39;,&#39;PIqeDU2HqZblrez1XIrNJ8f2EHi20&#39;,&#39;PIqeDU2HqZblrez1XIrNJ8f2EHi22&#39;,&#39;eERcR1vqXyMJEadU1YBBxAe26Xw10&#39;,&#39;gfgxCVU4WyStWiNE2RQt9eTxEkm10&#39;,&#39;gfgxCVU4WyStWiNE2RQt9eTxEkm11&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL20&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL21&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL22&#39;,&#39;z8iTwrXV6tgGqtP25KFB3yADRXM21&#39;]
    if session[&#39;page&#39;]+1 &gt; 9:
        session[&#39;page&#39;]=0
    else:
        session[&#39;page&#39;]+=1
    print(session[&#39;page&#39;])
    jobs=jobLoad.fetchDefaultJob(l[session[&#39;page&#39;]])
    return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;],jobs=jobs,count=&#34;yes&#34;,default=l[session[&#39;page&#39;]])

@app.route(&#34;/prevpage&#34;)
def prevpage():
    l=[&#39;8bh2G9nOsXhuEGovfY2s51JrNAq10&#39;,&#39;PIqeDU2HqZblrez1XIrNJ8f2EHi20&#39;,&#39;PIqeDU2HqZblrez1XIrNJ8f2EHi22&#39;,&#39;eERcR1vqXyMJEadU1YBBxAe26Xw10&#39;,&#39;gfgxCVU4WyStWiNE2RQt9eTxEkm10&#39;,&#39;gfgxCVU4WyStWiNE2RQt9eTxEkm11&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL20&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL21&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL22&#39;,&#39;z8iTwrXV6tgGqtP25KFB3yADRXM21&#39;]
    if session[&#39;page&#39;]-1 &lt; 0:
        session[&#39;page&#39;]=9
    else:
        session[&#39;page&#39;]-=1 
    jobs=jobLoad.fetchDefaultJob(l[session[&#39;page&#39;]])
    return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;],jobs=jobs,count=&#34;yes&#34;,default=l[session[&#39;page&#39;]])
    

@app.errorhandler(404)
def page_not_found(e):
    return render_template(&#39;404.html&#39;), 404

    
if __name__ == &#34;__main__&#34;:
    app.run(&#39;0.0.0.0&#39;,port=5000)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="app.appling"><code class="name flex">
<span>def <span class="ident">appling</span></span>(<span>row, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/user/apply/&lt;row&gt;/&lt;x&gt;&#39;)
def appling(row,x):
    jobDetails = jobDetailsLoad.findJobDetails(x,row)
    return render_template(&#39;apply.html&#39;,job=jobDetails[0])</code></pre>
</details>
</dd>
<dt id="app.apply"><code class="name flex">
<span>def <span class="ident">apply</span></span>(<span>x)</span>
</code></dt>
<dd>
<div class="desc"><p>In home latest jobs are shown when user request to show more details about latest job these method fetch
data about job description,apply link it showed in apply.html</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/user/apply/&lt;x&gt;&#39;,methods=[&#39;GET&#39;])
def apply(x):
    &#39;&#39;&#39; In home latest jobs are shown when user request to show more details about latest job these method fetch 
    data about job description,apply link it showed in apply.html&#39;&#39;&#39;
    jobDetails = jobDetailsLoad.findJobDetails(x)
    return render_template(&#39;apply.html&#39;,job=jobDetails[0])</code></pre>
</details>
</dd>
<dt id="app.applys"><code class="name flex">
<span>def <span class="ident">applys</span></span>(<span>count, x)</span>
</code></dt>
<dd>
<div class="desc"><p>In search result jobs are stored in database when user request the search history of job description,apply
link the applys method fetch from database</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/user/applys/&lt;count&gt;/&lt;x&gt;&#39;,methods=[&#39;GET&#39;])
def applys(count,x):
    &#39;&#39;&#39; In search result jobs are stored in database when user request the search history of job description,apply
    link the applys method fetch from database &#39;&#39;&#39;
    merge = session[&#39;user&#39;][&#39;id&#39;]+str(count)
    print(x,merge)
    jobDetails = jobDetailsLoad.findJobDetails(x,merge)
    print(jobDetails)
    return render_template(&#39;apply.html&#39;,job=jobDetails[0])</code></pre>
</details>
</dd>
<dt id="app.check"><code class="name flex">
<span>def <span class="ident">check</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route check. if user logged in it shows dashboard else it shows landing page</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/check&#39;)
def check():
    &#39;&#39;&#39; Route check. if user logged in it shows dashboard else it shows landing page &#39;&#39;&#39;
    if (&#39;user&#39; in session):
        return redirect(url_for(&#39;dashboard&#39;,username=session[&#39;user&#39;][&#39;name&#39;]))
    else:
        return redirect(url_for(&#39;home&#39;))</code></pre>
</details>
</dd>
<dt id="app.course"><code class="name flex">
<span>def <span class="ident">course</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route course. if logged in it shows profile button else it shows log in button</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/course&#39;)
def course():
    &#39;&#39;&#39; Route course. if logged in it shows profile button else it shows log in button &#39;&#39;&#39;
    if (&#39;user&#39; in session):
        return render_template(&#39;course.html&#39;, see=True )
    else:
        return render_template(&#39;course.html&#39;, see=False  )</code></pre>
</details>
</dd>
<dt id="app.dashboard"><code class="name flex">
<span>def <span class="ident">dashboard</span></span>(<span>username)</span>
</code></dt>
<dd>
<div class="desc"><p>Route Dashboard. When user log in the session is stored if the user
logged in it redirect to
dashboard else it redirect to login page</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#34;/user/&lt;username&gt;&#34;)
def dashboard(username):
    &#39;&#39;&#39; Route Dashboard. When user log in the session is stored if the user  logged in it redirect to 
    dashboard else it redirect to login page &#39;&#39;&#39;
    if (&#39;user&#39; in session):  
        jobs=jobLoad.fetchDefaultJob()
        return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;],jobs=jobs,count=&#34;None&#34;)
    else:
        return redirect(url_for(&#39;login&#39;))</code></pre>
</details>
</dd>
<dt id="app.history"><code class="name flex">
<span>def <span class="ident">history</span></span>(<span>history)</span>
</code></dt>
<dd>
<div class="desc"><p>Route History. The history of job searches are stored in database. when the user request to see the jobs
and details. it get from database and showed in history page</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#34;/history/&lt;history&gt;&#34;)
def history(history):
    &#39;&#39;&#39; Route History. The history of job searches are stored in database. when the user request to see the jobs 
    and details. it get from database and showed in history page &#39;&#39;&#39;
    error=&#34;&#34;
    if session[&#39;user&#39;][&#39;jobFetchCount&#39;]!=0:
        if (session[&#39;user&#39;][&#39;jobFetchCount&#39;]) &gt; int(history):
            jobs=jobLoad.fetchDefaultJob(str(session[&#39;user&#39;][&#39;id&#39;])+(history))
            return render_template(&#34;history.html&#34;,history=history,jobs=jobs,count=history)
        else:
            error=&#34;No Search History. Search the job results are saved in history&#34;
            # return render_template(&#34;history.html&#34;)
            # return &#34;No Search results&#34;
    else:
        error=&#34;you don&#39;t have search history&#34;
        # return &#34;you not having search history&#34;
    return render_template(&#34;history.html&#34;,error=error)</code></pre>
</details>
</dd>
<dt id="app.home"><code class="name flex">
<span>def <span class="ident">home</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route Home page</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/&#39;)
def home():
    &#39;&#39;&#39; Route Home page &#39;&#39;&#39;
    return render_template (&#34;index.html&#34;)</code></pre>
</details>
</dd>
<dt id="app.login"><code class="name flex">
<span>def <span class="ident">login</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route login Page. when click login page it checks session is active if active it redirects
dashboard else redirect to login page</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/login&#39;)
def login():
    &#39;&#39;&#39; Route login Page. when click login page it checks session is active if active it redirects 
    dashboard else redirect to login page&#39;&#39;&#39;
    if (&#39;user&#39; in session):
        jobs=jobLoad.fetchDefaultJob()
        error=&#34;Hello &#34;+session[&#39;user&#39;][&#39;name&#39;]+&#34; You are Succesfully Logged in !&#34;
        return redirect(url_for(&#39;dashboard&#39;,username=session[&#39;user&#39;][&#39;name&#39;]))
        # return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;][&#39;name&#39;],jobs=jobs,count=&#34;None&#34;)
    else:
        return render_template(&#34;./auth/login.html&#34;)</code></pre>
</details>
</dd>
<dt id="app.logindata"><code class="name flex">
<span>def <span class="ident">logindata</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route login Data. When user filled the login form and press submit the api pass email, password.
The email and password verify if exists in database. If exist fetch the user data and create a session</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/loginData&#39;,methods=[&#34;POST&#34;,&#34;GET&#34;])
def logindata():
    &#39;&#39;&#39; Route login Data. When user filled the login form and press submit the api pass email, password. 
    The email and password verify if exists in database. If exist fetch the user data and create a session&#39;&#39;&#39;
    if request.method==&#39;POST&#39;:
        try:
            emailEl=request.form[&#39;emailEl&#39;]
            passwordEl=request.form[&#39;passwordEl&#39;]
            user = LogAuth.auth.sign_in_with_email_and_password(emailEl,passwordEl)
            userId =(user[&#39;localId&#39;])
            # fetch method ==&gt; fetch user data
            fetchData=fetch.fetchData(userId)
            session[&#39;user&#39;]=fetchData
            session[&#39;page&#39;]=0
        except:
            error=&#34;Your email/password are not matched..&#34;
            return render_template(&#34;./auth/login.html&#34;,error=error)
    jobs=jobLoad.fetchDefaultJob()
    error=&#34;Hello &#34;+session[&#39;user&#39;][&#39;name&#39;]+&#34; You are Succesfully Logged in !&#34;
    # return render_template(&#39;dashboard.html&#39;,username=fetchData[&#39;name&#39;],jobs=jobs,count=&#34;None&#34;,error=error)
    return redirect(url_for(&#39;dashboard&#39;,username=session[&#39;user&#39;][&#39;name&#39;]))</code></pre>
</details>
</dd>
<dt id="app.logout"><code class="name flex">
<span>def <span class="ident">logout</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route logout. When use click log out the user session is deleted</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/logout&#39;)
def logout():
    &#39;&#39;&#39; Route logout. When use click log out the user session is deleted &#39;&#39;&#39;
    session.pop(&#39;user&#39;)
    return redirect(url_for(&#39;home&#39;))</code></pre>
</details>
</dd>
<dt id="app.nextpage"><code class="name flex">
<span>def <span class="ident">nextpage</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#34;/nextpage&#34;)
def nextpage():
    l=[&#39;8bh2G9nOsXhuEGovfY2s51JrNAq10&#39;,&#39;PIqeDU2HqZblrez1XIrNJ8f2EHi20&#39;,&#39;PIqeDU2HqZblrez1XIrNJ8f2EHi22&#39;,&#39;eERcR1vqXyMJEadU1YBBxAe26Xw10&#39;,&#39;gfgxCVU4WyStWiNE2RQt9eTxEkm10&#39;,&#39;gfgxCVU4WyStWiNE2RQt9eTxEkm11&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL20&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL21&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL22&#39;,&#39;z8iTwrXV6tgGqtP25KFB3yADRXM21&#39;]
    if session[&#39;page&#39;]+1 &gt; 9:
        session[&#39;page&#39;]=0
    else:
        session[&#39;page&#39;]+=1
    print(session[&#39;page&#39;])
    jobs=jobLoad.fetchDefaultJob(l[session[&#39;page&#39;]])
    return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;],jobs=jobs,count=&#34;yes&#34;,default=l[session[&#39;page&#39;]])</code></pre>
</details>
</dd>
<dt id="app.page_not_found"><code class="name flex">
<span>def <span class="ident">page_not_found</span></span>(<span>e)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.errorhandler(404)
def page_not_found(e):
    return render_template(&#39;404.html&#39;), 404</code></pre>
</details>
</dd>
<dt id="app.prevpage"><code class="name flex">
<span>def <span class="ident">prevpage</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#34;/prevpage&#34;)
def prevpage():
    l=[&#39;8bh2G9nOsXhuEGovfY2s51JrNAq10&#39;,&#39;PIqeDU2HqZblrez1XIrNJ8f2EHi20&#39;,&#39;PIqeDU2HqZblrez1XIrNJ8f2EHi22&#39;,&#39;eERcR1vqXyMJEadU1YBBxAe26Xw10&#39;,&#39;gfgxCVU4WyStWiNE2RQt9eTxEkm10&#39;,&#39;gfgxCVU4WyStWiNE2RQt9eTxEkm11&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL20&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL21&#39;,&#39;sMD26FzwE6N5EXcOClkemuivPWL22&#39;,&#39;z8iTwrXV6tgGqtP25KFB3yADRXM21&#39;]
    if session[&#39;page&#39;]-1 &lt; 0:
        session[&#39;page&#39;]=9
    else:
        session[&#39;page&#39;]-=1 
    jobs=jobLoad.fetchDefaultJob(l[session[&#39;page&#39;]])
    return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;],jobs=jobs,count=&#34;yes&#34;,default=l[session[&#39;page&#39;]])</code></pre>
</details>
</dd>
<dt id="app.profile"><code class="name flex">
<span>def <span class="ident">profile</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route Profile page. It shows user information stored in session</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/user/profile&#39;)
def profile():
    &#39;&#39;&#39; Route Profile page. It shows user information stored in session&#39;&#39;&#39;
    const =session[&#39;user&#39;]
    return render_template(&#39;profile.html&#39;,data=const)</code></pre>
</details>
</dd>
<dt id="app.register"><code class="name flex">
<span>def <span class="ident">register</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route register page. It render register page</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/register&#39;)
def register():
    &#39;&#39;&#39; Route register page. It render register page &#39;&#39;&#39;
    return render_template(&#34;./auth/register.html&#34;)</code></pre>
</details>
</dd>
<dt id="app.registerData"><code class="name flex">
<span>def <span class="ident">registerData</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route register Data. when user filled the register form the details are verified if it's valid redirect
to
home page else it rendered register page with exception message</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/registerData&#39;,methods=[&#34;POST&#34;,&#39;GET&#39;])
def registerData():
    &#39;&#39;&#39; Route register Data. when user filled the register form the details are verified if it&#39;s valid redirect
    to  home page else it rendered register page with exception message &#39;&#39;&#39;
    if request.method==&#39;POST&#39;:
        name=request.form.get(&#39;name&#39;)
        email=request.form.get(&#39;email&#39;)
        password=request.form.get(&#39;password&#39;)
        error= RegisterData.checkValid(name,email,password)
        if error != None:
            return render_template(&#34;./auth/register.html&#34;,error=error)
        try:
            user=LogAuth.auth.create_user_with_email_and_password(email,password)
            fetch.addData(user[&#39;idToken&#39;],name,email)   
        except :
            error=&#34;You already Registered Please Login with Your Credentials&#34;
            return  render_template(&#34;./auth/register.html&#34;,error=error)
    # return redirect(url_for(&#39;home&#39;))
    # redirect to dashboard after register
    user = LogAuth.auth.sign_in_with_email_and_password(email,password)
    userId =(user[&#39;localId&#39;])
    # fetch method ==&gt; fetch user data
    fetchData=fetch.fetchData(userId)
    session[&#39;user&#39;]=fetchData
    error=&#34;Hello &#34;+ fetchData[&#39;name&#39;] + &#34; You Succesfully registered and logged in&#34;
    jobs=jobLoad.fetchDefaultJob()
    return redirect(url_for(&#39;dashboard&#39;,username=session[&#39;user&#39;][&#39;name&#39;]))
    # return render_template(&#39;dashboard.html&#39;,username=fetchData[&#39;name&#39;],jobs=jobs,count=&#34;None&#34;,error=error)</code></pre>
</details>
</dd>
<dt id="app.roleBasedJob"><code class="name flex">
<span>def <span class="ident">roleBasedJob</span></span>(<span>job)</span>
</code></dt>
<dd>
<div class="desc"><p>These route method rol based job details from database</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#34;/job/&lt;job&gt;&#34;)
def roleBasedJob(job):
    &#39;&#39;&#39; These route method rol based job details from database &#39;&#39;&#39;
    # under process
    if job==&#34;Full Stack Developer&#34;:
        jobs=jobLoad.fetchDefaultJob(&#34;defaultJob&#34;)
        return &#34;coming soon sprint-3&#34;
        # return render_template(&#39;dashboard.html&#39;,username=&#39;Guest&#39;,jobs=jobs,count=&#34;None&#34;)
    return &#34;late&#34;</code></pre>
</details>
</dd>
<dt id="app.search"><code class="name flex">
<span>def <span class="ident">search</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route search. Each user gets 3 free search so it check search limit stored in session if it's under
limit request job details in job api and the job results are passes into dasboard and the results also
stored in database. meanwhile the Search limit is updated in cloud and session</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/search&#39;,methods=[&#39;POST&#39;])
def search():
    &#39;&#39;&#39; Route search. Each user gets 3 free search so it check search limit stored in session if it&#39;s under 
    limit request job details in job api and the job results are passes into dasboard and the results also 
    stored in database. meanwhile the Search limit is updated in cloud and session &#39;&#39;&#39;
    if request.method==&#39;POST&#39;:
        try:
            id=session[&#39;user&#39;][&#39;id&#39;]
            count=session[&#39;user&#39;][&#39;jobFetchCount&#39;]  
            role=request.form[&#39;role&#39;]
            city=request.form[&#39;city&#39;]
            country=request.form[&#39;country&#39;]
            if count &lt; 3:
                jobLoad.jobapi(id,count,role,city,country)
                # jobs=jobLoad.fetchDefaultJob(id+str(session[&#39;user&#39;][&#39;jobFetchCount&#39;]))
                data=session[&#39;user&#39;]
                data[&#39;jobFetchCount&#39;]= data[&#39;jobFetchCount&#39;]+1 
                session[&#39;user&#39;]=data
                profileUpdate.update(id,data)
                return redirect(url_for(&#34;history&#34;,history=data[&#39;jobFetchCount&#39;]-1))
                # return render_template(&#39;dashboard.html&#39;,username=session[&#39;user&#39;],jobs=jobs,count=data[&#39;jobFetchCount&#39;]-1)
                print(data[&#39;jobFetchCount&#39;]-1)
                jobs=jobLoad.fetchDefaultJob(id+str(session[&#39;user&#39;][&#39;jobFetchCount&#39;]-1))
                return render_template(&#34;history.html&#34;,history=data[&#39;jobFetchCount&#39;]-1,jobs=jobs,count=data[&#39;jobFetchCount&#39;]-1)
            else:
                return &#34;You Used 3 searches If you need more Please Mail to this ID prakasha.ece19@gmail.com&#34;
        except:
            return &#34;Search failed&#34;
            return redirect(url_for(&#34;dashboard&#34;,username=session[&#39;user&#39;]))</code></pre>
</details>
</dd>
<dt id="app.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Route update. It fetch all details in profile update form and update in database and session</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app.route(&#39;/update&#39;,methods=[&#34;POST&#34;,&#34;GET&#34;])
def update():
    &#39;&#39;&#39; Route update. It fetch all details in profile update form and update in database and session &#39;&#39;&#39;
    if request.method==&#39;POST&#39;:
        try:
            id = session[&#39;user&#39;][&#39;id&#39;]
            name = session [&#39;user&#39;][&#39;name&#39;]
            email =session[&#39;user&#39;][&#39;email&#39;]
            number=request.form[&#39;number&#39;]
            role =request.form[&#39;role&#39;]
            skill1 =request.form[&#39;skill1&#39;]
            skill2 =request.form[&#39;skill2&#39;]
            skill3 =request.form[&#39;skill3&#39;]
            data={&#39;id&#39;:id,&#39;name&#39;:name,&#39;email&#39;:email,&#39;number&#39;:number,&#39;role&#39;:role,&#39;skill1&#39;:skill1,&#39;skill2&#39;:skill2,
                &#39;skill3&#39;:skill3,&#39;update&#39;:True,&#39;jobFetchCount&#39;:session[&#39;user&#39;][&#39;jobFetchCount&#39;]}
            profileUpdate.update(id,data)
            session[&#39;user&#39;]=data
        except:
            return &#34;user update failed&#34;
    return render_template(&#39;profile.html&#39;,data=data)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="app.appling" href="#app.appling">appling</a></code></li>
<li><code><a title="app.apply" href="#app.apply">apply</a></code></li>
<li><code><a title="app.applys" href="#app.applys">applys</a></code></li>
<li><code><a title="app.check" href="#app.check">check</a></code></li>
<li><code><a title="app.course" href="#app.course">course</a></code></li>
<li><code><a title="app.dashboard" href="#app.dashboard">dashboard</a></code></li>
<li><code><a title="app.history" href="#app.history">history</a></code></li>
<li><code><a title="app.home" href="#app.home">home</a></code></li>
<li><code><a title="app.login" href="#app.login">login</a></code></li>
<li><code><a title="app.logindata" href="#app.logindata">logindata</a></code></li>
<li><code><a title="app.logout" href="#app.logout">logout</a></code></li>
<li><code><a title="app.nextpage" href="#app.nextpage">nextpage</a></code></li>
<li><code><a title="app.page_not_found" href="#app.page_not_found">page_not_found</a></code></li>
<li><code><a title="app.prevpage" href="#app.prevpage">prevpage</a></code></li>
<li><code><a title="app.profile" href="#app.profile">profile</a></code></li>
<li><code><a title="app.register" href="#app.register">register</a></code></li>
<li><code><a title="app.registerData" href="#app.registerData">registerData</a></code></li>
<li><code><a title="app.roleBasedJob" href="#app.roleBasedJob">roleBasedJob</a></code></li>
<li><code><a title="app.search" href="#app.search">search</a></code></li>
<li><code><a title="app.update" href="#app.update">update</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>